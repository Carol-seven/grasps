% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/blockband.R
\name{blockband}
\alias{blockband}
\title{Block-Band Matrix with Group Structure}
\usage{
blockband(
  mat,
  membership,
  within.diag = TRUE,
  neighbor.range = 1,
  group.diag = NULL,
  n,
  seed = 1
)
}
\arguments{
\item{mat}{A p-by-p precision-like matrix specifying the base matrix to be
masked.}

\item{membership}{An integer vector specifying the group membership.
The length of \code{membership} must be consistent with the dimension p.}

\item{within.diag}{A boolean (default = TRUE) specifying whether within-group
blocks keep only diagonal entries (i.e., identity-like structure within each
group).}

\item{neighbor.range}{An integer (default = 1) specifying the neighbor range,
where groups whose labels differ by at most \code{neighbor.range} are
considered neighbors and kept in the mask.}

\item{group.diag}{An integer vector (default = NULL) specifying which
within-group blocks should keep diagonal-only structure when
\code{within.diag = FALSE}.}

\item{n}{An integer (default = NULL) specifying the sample size for
generating Gaussian data from the resulting precision matrix. If \code{NULL},
no data are generated.}

\item{seed}{An integer (default = 1) specifying the random seed for
reproducibility.}
}
\value{
A list containing:
\describe{
\item{Omega}{The masked precision matrix.}
\item{Sigma}{The covariance matrix, i.e., the inverse of \code{Omega}.}
\item{sparsity}{Proportion of zero entries in \code{Omega}.}
\item{X}{If \code{n} is not \code{NULL}, an \code{n}-by-\code{p} matrix of
Gaussian observations sampled from \eqn{\mathcal{N}(0, \Sigma)}.}
\item{membership}{An integer vector specifying the group membership.}
}
}
\description{
Construct a masked precision matrix where entries are kept only within
specified group neighborhoods. Optionally generate Gaussian samples from
the resulting precision matrix.
}
